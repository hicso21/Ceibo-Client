{"ast":null,"code":"import axios from \"axios\";\nimport { createReducer, createAsyncThunk } from \"@reduxjs/toolkit\";\nexport const sendLoginRequest = createAsyncThunk(\"LOGIN\", input => {\n  return axios.post(\"http://localhost:3001/api/user/login\", input, {\n    withCredentials: true,\n    credentials: \"include\"\n  }).then(r => r.data).then(() => {\n    localStorage.setItem('logged', true);\n  });\n});\nexport const sendSignUpRequest = createAsyncThunk(\"SIGNUP\", input => {\n  return axios.post(\"http://localhost:3001/api/user/register\", input).then(r => r.data);\n});\nexport const sendLogoutRequest = createAsyncThunk(\"LOGOUT\", () => {\n  document.cookie = \"token= \";\n  return axios.post(\"http://localhost:3001/api/user/logout\", {\n    withCredentials: true,\n    credentials: \"include\"\n  }).then(r => r).then(() => {\n    localStorage.setItem('logged', true);\n  });\n});\nexport const setUser = createAsyncThunk(\"SETUSER\", input => {\n  return input;\n});\nconst userReducer = createReducer({}, {\n  [sendLoginRequest.fulfilled]: (state, action) => action.payload,\n  [sendLogoutRequest.fulfilled]: (state, action) => action.payload,\n  [sendSignUpRequest.fulfilled]: (state, action) => action.payload,\n  [setUser.fulfilled]: (state, action) => action.payload\n});\nexport default userReducer;","map":{"version":3,"names":["axios","createReducer","createAsyncThunk","sendLoginRequest","input","post","withCredentials","credentials","then","r","data","localStorage","setItem","sendSignUpRequest","sendLogoutRequest","document","cookie","setUser","userReducer","fulfilled","state","action","payload"],"sources":["/home/tomas/p5/checkpoints/Ceibo/client/src/state/user.js"],"sourcesContent":["import axios from \"axios\";\nimport { createReducer, createAsyncThunk } from \"@reduxjs/toolkit\";\n\n\nexport const sendLoginRequest = createAsyncThunk(\"LOGIN\", (input) => {\n  return  axios.post(\"http://localhost:3001/api/user/login\",input, {\n            withCredentials: true,\n            credentials: \"include\",\n          })\n          .then((r)=> r.data)\n          .then(()=>{localStorage.setItem('logged', true)})\n});\n\nexport const sendSignUpRequest = createAsyncThunk(\"SIGNUP\", (input) => {\n  return axios.post(\"http://localhost:3001/api/user/register\",input).then((r)=> r.data)\n});\n\nexport const sendLogoutRequest = createAsyncThunk(\"LOGOUT\", () => {\n  document.cookie = \"token= \"\n  return  axios.post(\"http://localhost:3001/api/user/logout\", {\n            withCredentials: true,\n            credentials: \"include\",\n          })\n          .then((r)=> r)\n          .then(()=>{localStorage.setItem('logged', true)})\n});\n\nexport const setUser = createAsyncThunk(\"SETUSER\", (input) => {\n  return input;\n});\n\nconst userReducer = createReducer({}, {\n  [sendLoginRequest.fulfilled]: (state, action) => action.payload,\n  [sendLogoutRequest.fulfilled]: (state, action) => action.payload,\n  [sendSignUpRequest.fulfilled]: (state, action) => action.payload,\n  [setUser.fulfilled]: (state, action) => action.payload,\n});\n\nexport default userReducer;"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,aAAT,EAAwBC,gBAAxB,QAAgD,kBAAhD;AAGA,OAAO,MAAMC,gBAAgB,GAAGD,gBAAgB,CAAC,OAAD,EAAWE,KAAD,IAAW;EACnE,OAAQJ,KAAK,CAACK,IAAN,CAAW,sCAAX,EAAkDD,KAAlD,EAAyD;IACvDE,eAAe,EAAE,IADsC;IAEvDC,WAAW,EAAE;EAF0C,CAAzD,EAICC,IAJD,CAIOC,CAAD,IAAMA,CAAC,CAACC,IAJd,EAKCF,IALD,CAKM,MAAI;IAACG,YAAY,CAACC,OAAb,CAAqB,QAArB,EAA+B,IAA/B;EAAqC,CALhD,CAAR;AAMD,CAP+C,CAAzC;AASP,OAAO,MAAMC,iBAAiB,GAAGX,gBAAgB,CAAC,QAAD,EAAYE,KAAD,IAAW;EACrE,OAAOJ,KAAK,CAACK,IAAN,CAAW,yCAAX,EAAqDD,KAArD,EAA4DI,IAA5D,CAAkEC,CAAD,IAAMA,CAAC,CAACC,IAAzE,CAAP;AACD,CAFgD,CAA1C;AAIP,OAAO,MAAMI,iBAAiB,GAAGZ,gBAAgB,CAAC,QAAD,EAAW,MAAM;EAChEa,QAAQ,CAACC,MAAT,GAAkB,SAAlB;EACA,OAAQhB,KAAK,CAACK,IAAN,CAAW,uCAAX,EAAoD;IAClDC,eAAe,EAAE,IADiC;IAElDC,WAAW,EAAE;EAFqC,CAApD,EAICC,IAJD,CAIOC,CAAD,IAAMA,CAJZ,EAKCD,IALD,CAKM,MAAI;IAACG,YAAY,CAACC,OAAb,CAAqB,QAArB,EAA+B,IAA/B;EAAqC,CALhD,CAAR;AAMD,CARgD,CAA1C;AAUP,OAAO,MAAMK,OAAO,GAAGf,gBAAgB,CAAC,SAAD,EAAaE,KAAD,IAAW;EAC5D,OAAOA,KAAP;AACD,CAFsC,CAAhC;AAIP,MAAMc,WAAW,GAAGjB,aAAa,CAAC,EAAD,EAAK;EACpC,CAACE,gBAAgB,CAACgB,SAAlB,GAA8B,CAACC,KAAD,EAAQC,MAAR,KAAmBA,MAAM,CAACC,OADpB;EAEpC,CAACR,iBAAiB,CAACK,SAAnB,GAA+B,CAACC,KAAD,EAAQC,MAAR,KAAmBA,MAAM,CAACC,OAFrB;EAGpC,CAACT,iBAAiB,CAACM,SAAnB,GAA+B,CAACC,KAAD,EAAQC,MAAR,KAAmBA,MAAM,CAACC,OAHrB;EAIpC,CAACL,OAAO,CAACE,SAAT,GAAqB,CAACC,KAAD,EAAQC,MAAR,KAAmBA,MAAM,CAACC;AAJX,CAAL,CAAjC;AAOA,eAAeJ,WAAf"},"metadata":{},"sourceType":"module"}