{"ast":null,"code":"var _jsxFileName = \"/home/tomas/p5/checkpoints/Ceibo/client/src/components/Chat/Chat.jsx\",\n    _s = $RefreshSig$();\n\nimport { Fragment } from \"react\";\nimport { Container, Paper, Typography, Divider, Grid, List, ListItem, ListItemText, FormControl, TextField, IconButton } from \"@mui/material\";\nimport SendIcon from \"@mui/icons-material/Send\";\nimport { Box } from \"@mui/system\";\nimport { useState } from \"react\";\nimport \"./Chat.css\";\nimport { useSelector } from \"react-redux\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst {\n  io\n} = require(\"socket.io-client\");\n\nexport default function Chat() {\n  _s();\n\n  const socket = io();\n  socket.on(\"connect\", () => {\n    console.log(socket.id); // x8WIv7-mJelg7on_ALbx\n  });\n  socket.on(\"disconnect\", () => {\n    console.log(socket.id); // undefined\n  });\n  const {\n    user\n  } = useSelector(state => state);\n  const [chatMessages, setChatMessages] = useState([]);\n  const [message, setMessage] = useState(\"\");\n  const listChatMessages = chatMessages.map((chatMessageDto, index) => {\n    /*#__PURE__*/\n    _jsxDEV(ListItem, {\n      children: /*#__PURE__*/_jsxDEV(ListItemText, {\n        primary: `${chatMessageDto.user}:${chatMessageDto.message}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this)\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 5\n    }, this);\n  });\n\n  const handlerMessageChange = event => {\n    setMessage(event.target.value);\n  };\n\n  const sendMessage = () => {\n    if (user && message) {\n      console.log(\"send msn\");\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Fragment, {\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          elevation: 5,\n          children: /*#__PURE__*/_jsxDEV(Box, {\n            p: 8,\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h5\",\n              gutterBottom: true,\n              children: \"Chat con la fundacion\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              spacing: 4,\n              alignItems: \"center\",\n              children: [/*#__PURE__*/_jsxDEV(Grid, {\n                id: \"chat-window\",\n                xs: 12,\n                item: true,\n                children: /*#__PURE__*/_jsxDEV(List, {\n                  id: \"chat-window-messages\",\n                  children: listChatMessages\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 63,\n                  columnNumber: 29\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                children: /*#__PURE__*/_jsxDEV(FormControl, {\n                  fullWidth: true,\n                  children: /*#__PURE__*/_jsxDEV(TextField, {\n                    value: user.name,\n                    variant: \"outlined\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 69,\n                    columnNumber: 33\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 68,\n                  columnNumber: 29\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                xs: 10,\n                item: true,\n                children: /*#__PURE__*/_jsxDEV(FormControl, {\n                  fullWidth: true,\n                  children: /*#__PURE__*/_jsxDEV(TextField, {\n                    onChange: handlerMessageChange,\n                    value: message,\n                    label: \"Escribe tu mensaje\",\n                    variant: \"outlined\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 74,\n                    columnNumber: 33\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 73,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                xs: 1,\n                item: true,\n                children: /*#__PURE__*/_jsxDEV(IconButton, {\n                  \"aria-label\": \"Enviar\",\n                  onClick: sendMessage,\n                  children: /*#__PURE__*/_jsxDEV(SendIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 80,\n                    columnNumber: 33\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 79,\n                  columnNumber: 29\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }, this)\n  }, void 0, false);\n}\n\n_s(Chat, \"2XYEeEnWBtPQBB9kQwoD6Pkcprs=\", false, function () {\n  return [useSelector];\n});\n\n_c = Chat;\n\nvar _c;\n\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"names":["Fragment","Container","Paper","Typography","Divider","Grid","List","ListItem","ListItemText","FormControl","TextField","IconButton","SendIcon","Box","useState","useSelector","io","require","Chat","socket","on","console","log","id","user","state","chatMessages","setChatMessages","message","setMessage","listChatMessages","map","chatMessageDto","index","handlerMessageChange","event","target","value","sendMessage","name"],"sources":["/home/tomas/p5/checkpoints/Ceibo/client/src/components/Chat/Chat.jsx"],"sourcesContent":["\nimport {Fragment} from \"react\";\nimport {Container, Paper, Typography, Divider, Grid , List, ListItem, ListItemText, FormControl, TextField, IconButton} from \"@mui/material\"\nimport SendIcon from \"@mui/icons-material/Send\"\nimport {Box } from \"@mui/system\"\nimport { useState } from \"react\";\nimport \"./Chat.css\"\nimport { useSelector } from \"react-redux\";\nconst { io } = require(\"socket.io-client\");\n\n\n\n\nexport default function Chat() {\n\n    const socket = io();\n\n    socket.on(\"connect\", () => {\n        console.log(socket.id); // x8WIv7-mJelg7on_ALbx\n      });\n      \n      socket.on(\"disconnect\", () => {\n        console.log(socket.id); // undefined\n      });\n\n\n\n\n\nconst { user } = useSelector((state) => state);    \n\nconst [chatMessages , setChatMessages] = useState([])\nconst [message , setMessage] = useState(\"\")\nconst listChatMessages= chatMessages.map((chatMessageDto ,index)=>{\n    <ListItem key={index}>\n        <ListItemText primary={`${chatMessageDto.user}:${chatMessageDto.message}`}/>\n    </ListItem>\n})\n\nconst handlerMessageChange = (event)=>{\nsetMessage(event.target.value)\n}\n\nconst sendMessage = () =>{\nif(user&& message){\n    console.log(\"send msn\");\n}\n}\n\n\n    return (\n      <>\n    <Fragment>\n        <Container>\n            <Paper elevation ={5}>\n                <Box p={8}>\n                    <Typography variant=\"h5\" gutterBottom>\n                        Chat con la fundacion\n                    </Typography>\n                    <Divider/>\n                    <Grid container spacing={4} alignItems=\"center\">\n                        <Grid id=\"chat-window\"xs={12}item>\n                            <List id=\"chat-window-messages\">\n                                {listChatMessages}\n                            </List>\n                        </Grid>\n                        <Grid item>\n                            <FormControl fullWidth>\n                                <TextField value={user.name}  variant = \"outlined\"/>\n                            </FormControl>\n                        </Grid>\n                        <Grid xs={10}item>\n                        <FormControl fullWidth>\n                                <TextField onChange={handlerMessageChange} \n                                value={message} label=\"Escribe tu mensaje\"  variant = \"outlined\"/>\n                            </FormControl>\n                        </Grid>\n                        <Grid xs={1}item>\n                            <IconButton  aria-label='Enviar' onClick={sendMessage} >\n                                <SendIcon/>\n                            </IconButton>\n                        </Grid>\n                    \n                    </Grid>\n                </Box>\n            </Paper>\n        </Container>\n    </Fragment>\n      </>\n    );\n  }"],"mappings":"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"},"metadata":{},"sourceType":"module"}