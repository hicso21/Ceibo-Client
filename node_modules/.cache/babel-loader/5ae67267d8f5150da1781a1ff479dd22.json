{"ast":null,"code":"import _slicedToArray from\"/home/tomas/p5/checkpoints/Ceibo/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import*as React from'react';import Avatar from'@mui/material/Avatar';import Button from'@mui/material/Button';import CssBaseline from'@mui/material/CssBaseline';import TextField from'@mui/material/TextField';import Grid from'@mui/material/Grid';import Box from'@mui/material/Box';import LockOutlinedIcon from'@mui/icons-material/LockOutlined';import Typography from'@mui/material/Typography';import Container from'@mui/material/Container';import{createTheme,ThemeProvider}from'@mui/material/styles';import{useNavigate}from'react-router';import{useDispatch}from'react-redux';import{sendLoginRequest}from'../state/user';import{useState}from'react';import{Alert,Snackbar}from'@mui/material';import{useEffect}from'react';import GoogleLogin from'./GoogleLogin';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var theme=createTheme();export default function SignUp(){var navigate=useNavigate();var dispatch=useDispatch();var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),open=_React$useState2[0],setOpen=_React$useState2[1];var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),emailLegend=_useState4[0],setEmailLegend=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),errorEmail=_useState6[0],setErrorEmail=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),password=_useState8[0],setPassword=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),pwLegend=_useState10[0],setPwLegend=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),errorPw=_useState12[0],setErrorPw=_useState12[1];var handleClose=function handleClose(event,reason){if(reason==='clickaway'){return;}setOpen(false);};var handleSubmit=function handleSubmit(event){event.preventDefault();var data=new FormData(event.currentTarget);dispatch(sendLoginRequest({email:data.get('email'),password:data.get('password')})).then(function(resp){if(resp.type.substring(6)==='fulfilled'){navigate('/');}else{setOpen(true);}});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ThemeProvider,{theme:theme,children:/*#__PURE__*/_jsxs(Container,{component:\"main\",maxWidth:\"xs\",children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsxs(Box,{sx:{marginTop:8,display:'flex',flexDirection:'column',alignItems:'center'},children:[/*#__PURE__*/_jsx(Snackbar,{open:open,autoHideDuration:3000,onClose:handleClose,children:/*#__PURE__*/_jsx(Alert,{onClose:handleClose,severity:\"error\",sx:{width:'100%'},children:\"Los datos ingresados no coinciden con ningun usuario registrado\"})}),/*#__PURE__*/_jsx(Avatar,{sx:{m:1,bgcolor:'#1e244b'},children:/*#__PURE__*/_jsx(LockOutlinedIcon,{})}),/*#__PURE__*/_jsx(Typography,{component:\"h1\",variant:\"h5\",children:\"Iniciar sesi\\xF3n\"}),/*#__PURE__*/_jsxs(Box,{component:\"form\",noValidate:true,onSubmit:handleSubmit,sx:{mt:3},children:[/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{onChange:function onChange(e){setEmail(e.target.value);if(!email.includes('@')||!email.split('@')[0]){setErrorEmail(true);setEmailLegend('El correo electronico debe existir');}else{setErrorEmail(false);setEmailLegend('');}},error:errorEmail,required:true,fullWidth:true,label:\"Correo Electronico\",name:\"email\",autoComplete:\"email\",helperText:emailLegend,autoFocus:true})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{onChange:function onChange(e){setPassword(e.target.value);if(password.length<7){setErrorPw(true);setPwLegend('La contraseña debe contener al menos 8 caracteres');}else{setErrorPw(false);setPwLegend('');}},error:errorPw,required:true,fullWidth:true,label:\"Contrase\\xF1a\",type:\"password\",name:\"password\",autoComplete:\"new-password\",helperText:pwLegend})})]}),/*#__PURE__*/_jsx(Button,{fullWidth:true,type:\"submit\",variant:\"contained\",sx:{mt:3,mb:2},children:\"Iniciar sesi\\xF3n\"}),/*#__PURE__*/_jsx(Grid,{container:true,justifyContent:\"center\",width:'100%',children:/*#__PURE__*/_jsx(GoogleLogin,{})})]})]})]})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{})]});}","map":{"version":3,"names":["React","Avatar","Button","CssBaseline","TextField","Grid","Box","LockOutlinedIcon","Typography","Container","createTheme","ThemeProvider","useNavigate","useDispatch","sendLoginRequest","useState","Alert","Snackbar","useEffect","GoogleLogin","theme","SignUp","navigate","dispatch","open","setOpen","email","setEmail","emailLegend","setEmailLegend","errorEmail","setErrorEmail","password","setPassword","pwLegend","setPwLegend","errorPw","setErrorPw","handleClose","event","reason","handleSubmit","preventDefault","data","FormData","currentTarget","get","then","resp","type","substring","marginTop","display","flexDirection","alignItems","width","m","bgcolor","mt","e","target","value","includes","split","length","mb"],"sources":["/home/tomas/p5/checkpoints/Ceibo/client/src/components/LogIn.jsx"],"sourcesContent":["import * as React from 'react';\nimport Avatar from '@mui/material/Avatar';\nimport Button from '@mui/material/Button';\nimport CssBaseline from '@mui/material/CssBaseline';\nimport TextField from '@mui/material/TextField';\nimport Grid from '@mui/material/Grid';\nimport Box from '@mui/material/Box';\nimport LockOutlinedIcon from '@mui/icons-material/LockOutlined';\nimport Typography from '@mui/material/Typography';\nimport Container from '@mui/material/Container';\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\nimport { useNavigate } from 'react-router';\nimport { useDispatch } from 'react-redux';\nimport { sendLoginRequest } from '../state/user';\nimport { useState } from 'react';\nimport { Alert, Snackbar } from '@mui/material';\nimport { useEffect } from 'react';\nimport GoogleLogin from './GoogleLogin'\n\nconst theme = createTheme();\n\nexport default function SignUp() {\n\n  const navigate = useNavigate()\n  const dispatch = useDispatch()\n  const [open, setOpen] = React.useState(false);\n\n  const [email, setEmail] = useState('')\n  const [emailLegend, setEmailLegend] = useState('')\n  const [errorEmail, setErrorEmail] = useState(false)\n\n  const [password, setPassword] = useState('')\n  const [pwLegend, setPwLegend] = useState('')\n  const [errorPw, setErrorPw] = useState(false)\n\n  const handleClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n\n    setOpen(false);\n  };\n  \n  const handleSubmit = (event) => {\n    event.preventDefault();\n    const data = new FormData(event.currentTarget);\n    dispatch(sendLoginRequest({\n      email: data.get('email'),\n      password: data.get('password'),\n    }))\n    .then((resp)=>{\n      if(resp.type.substring(6) === 'fulfilled'){\n        navigate('/')\n      }else{\n        setOpen(true)\n      }\n    })\n  };\n\n  return (\n    <>\n    <ThemeProvider theme={theme}>\n      <Container component=\"main\" maxWidth=\"xs\">\n        <CssBaseline />\n        <Box\n          sx={{\n            marginTop: 8,\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n          }}\n          >\n          <Snackbar open={open} autoHideDuration={3000} onClose={handleClose}>\n            <Alert onClose={handleClose} severity=\"error\" sx={{ width: '100%' }}>\n              Los datos ingresados no coinciden con ningun usuario registrado\n            </Alert>\n          </Snackbar>\n          <Avatar sx={{ m: 1, bgcolor: '#1e244b' }}>\n            <LockOutlinedIcon />\n          </Avatar>\n          <Typography component=\"h1\" variant=\"h5\">\n            Iniciar sesión\n          </Typography>\n          <Box component=\"form\" noValidate onSubmit={handleSubmit} sx={{ mt: 3 }}>\n            <Grid container spacing={2}>\n              <Grid item xs={12}>\n                <TextField\n                  onChange={(e)=>{\n                    setEmail(e.target.value)\n                    if(!email.includes('@') || !email.split('@')[0]){\n                      setErrorEmail(true)\n                      setEmailLegend('El correo electronico debe existir')\n                    }else{\n                      setErrorEmail(false)\n                      setEmailLegend('')\n                    }\n                  }}\n                  error={errorEmail}\n                  required\n                  fullWidth\n                  label=\"Correo Electronico\"\n                  name=\"email\"\n                  autoComplete=\"email\"\n                  helperText={emailLegend}\n                  autoFocus\n                  />\n              </Grid>\n              <Grid item xs={12}>\n                <TextField\n                  onChange={(e)=>{\n                    setPassword(e.target.value)\n                    if(password.length<7){\n                      setErrorPw(true)\n                      setPwLegend('La contraseña debe contener al menos 8 caracteres')\n                    }else{\n                      setErrorPw(false)\n                      setPwLegend('')\n                    }\n                  }}\n                  error={errorPw}\n                  required\n                  fullWidth\n                  label=\"Contraseña\"\n                  type=\"password\"\n                  name=\"password\"\n                  autoComplete=\"new-password\"\n                  helperText={pwLegend}\n                />\n              </Grid>\n            </Grid>\n            <Button\n              fullWidth\n              type=\"submit\"\n              variant=\"contained\"\n              sx={{ mt: 3, mb: 2 }}\n              >\n              Iniciar sesión\n            </Button>\n            <Grid container justifyContent=\"center\" width={'100%'}>\n              <GoogleLogin/>\n            </Grid>\n          </Box>\n        </Box>\n      </Container>\n    </ThemeProvider>\n    <br/>\n    <br/>\n    <br/>\n    <br/>\n    <br/>\n    <br/>\n    <br/>\n    <br/>\n    <br/>\n    <br/>\n    </>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}