{"ast":null,"code":"import axios from'axios';import React,{useEffect}from'react';import{useDispatch}from'react-redux';import{useLocation}from'react-router';import Navbar from'../commons/Navbar';import{setUser}from'../state/user';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Layout=function Layout(_ref){var children=_ref.children;var dispatch=useDispatch();var _useLocation=useLocation(),pathname=_useLocation.pathname;useEffect(function(){if(pathname==='/register'||pathname==='/login'){}else{axios.get(\"http://localhost:3001/api/user/me\",{withCredentials:true,credentials:\"include\"}).then(function(resp){dispatch(setUser(resp.data));});}},[]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Navbar,{prop:children})});};export default Layout;","map":{"version":3,"names":["axios","React","useEffect","useDispatch","useLocation","Navbar","setUser","Layout","children","dispatch","pathname","get","withCredentials","credentials","then","resp","data"],"sources":["/home/tomas/p5/checkpoints/Ceibo/client/src/components/Layout.jsx"],"sourcesContent":["import axios from 'axios';\nimport React, { useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useLocation } from 'react-router';\nimport Navbar from '../commons/Navbar';\nimport { setUser } from '../state/user';\n\nconst Layout = ({ children }) => {\n\n    const dispatch = useDispatch()\n    const {pathname} = useLocation()\n\n    useEffect(()=>{\n        if(pathname === '/register' || pathname === '/login'){}\n        else{\n            axios\n                .get(\"http://localhost:3001/api/user/me\", {\n                    withCredentials: true,\n                    credentials: \"include\",\n                })\n                .then((resp) => {dispatch(setUser(resp.data))})\n        }\n    },[])\n\n    return (\n    <>\n        <Navbar prop={children}/>\n    </>\n    );\n};\n\n\nexport default Layout;"],"mappings":"AAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,MAAOC,MAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,OAASC,WAAT,KAA4B,cAA5B,CACA,MAAOC,OAAP,KAAmB,mBAAnB,CACA,OAASC,OAAT,KAAwB,eAAxB,C,gGAEA,GAAMC,OAAM,CAAG,QAATA,OAAS,MAAkB,IAAfC,SAAe,MAAfA,QAAe,CAE7B,GAAMC,SAAQ,CAAGN,WAAW,EAA5B,CACA,iBAAmBC,WAAW,EAA9B,CAAOM,QAAP,cAAOA,QAAP,CAEAR,SAAS,CAAC,UAAI,CACV,GAAGQ,QAAQ,GAAK,WAAb,EAA4BA,QAAQ,GAAK,QAA5C,CAAqD,CAAE,CAAvD,IACI,CACAV,KAAK,CACAW,GADL,CACS,mCADT,CAC8C,CACtCC,eAAe,CAAE,IADqB,CAEtCC,WAAW,CAAE,SAFyB,CAD9C,EAKKC,IALL,CAKU,SAACC,IAAD,CAAU,CAACN,QAAQ,CAACH,OAAO,CAACS,IAAI,CAACC,IAAN,CAAR,CAAR,CAA6B,CALlD,EAMH,CACJ,CAVQ,CAUP,EAVO,CAAT,CAYA,mBACA,sCACI,KAAC,MAAD,EAAQ,IAAI,CAAER,QAAd,EADJ,EADA,CAKH,CAtBD,CAyBA,cAAeD,OAAf"},"metadata":{},"sourceType":"module"}