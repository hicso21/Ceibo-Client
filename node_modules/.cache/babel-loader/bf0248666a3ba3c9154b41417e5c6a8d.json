{"ast":null,"code":"import _defineProperty from\"/home/tomas/p5/checkpoints/Ceibo/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";var _createReducer;import axios from\"axios\";import{createReducer,createAsyncThunk}from\"@reduxjs/toolkit\";export var sendLoginRequest=createAsyncThunk(\"LOGIN\",function(input){return axios.post(\"http://localhost:3001/api/user/login\",input,{withCredentials:true,credentials:'include'}).then(function(r){return r.data;}).catch(function(err){return console.log(err);});});export var sendSignUpRequest=createAsyncThunk(\"SIGNUP\",function(input){return axios.post(\"http://localhost:3001/api/user/register\",input,{withCredentials:true,credentials:'include'}).then(function(r){return r.data;}).catch(function(err){return console.log(err);});});export var sendLogoutRequest=createAsyncThunk(\"LOGOUT\",function(){localStorage.removeItem('google');document.cookie=\"token= \";return axios.post(\"http://localhost:3001/api/user/logout\",{withCredentials:true,credentials:'include'}).then(function(r){return r;}).catch(function(err){return console.log(err);});});export var setUser=createAsyncThunk(\"SETUSER\",function(input){if(localStorage.getItem('google')===true)input.google=true;return input;});var userReducer=createReducer({},(_createReducer={},_defineProperty(_createReducer,sendLoginRequest.fulfilled,function(state,action){return action.payload;}),_defineProperty(_createReducer,sendLogoutRequest.fulfilled,function(state,action){return action.payload;}),_defineProperty(_createReducer,sendSignUpRequest.fulfilled,function(state,action){return action.payload;}),_defineProperty(_createReducer,setUser.fulfilled,function(state,action){return action.payload;}),_createReducer));export default userReducer;","map":{"version":3,"names":["axios","createReducer","createAsyncThunk","sendLoginRequest","input","post","withCredentials","credentials","then","r","data","catch","err","console","log","sendSignUpRequest","sendLogoutRequest","localStorage","removeItem","document","cookie","setUser","getItem","google","userReducer","fulfilled","state","action","payload"],"sources":["/home/tomas/p5/checkpoints/Ceibo/client/src/state/user.js"],"sourcesContent":["import axios from \"axios\";\nimport { createReducer, createAsyncThunk } from \"@reduxjs/toolkit\";\n\n\nexport const sendLoginRequest = createAsyncThunk(\"LOGIN\", (input) => {\n  return  axios\n            .post(\n              \"http://localhost:3001/api/user/login\",\n              input, \n              { withCredentials: true, credentials: 'include'})\n            .then((r)=> r.data)\n            .catch((err)=> console.log(err))\n});\n\nexport const sendSignUpRequest = createAsyncThunk(\"SIGNUP\", (input) => {\n  return axios\n              .post(\n                \"http://localhost:3001/api/user/register\",\n                input,\n                { withCredentials: true, credentials: 'include' })\n              .then((r)=> r.data)\n              .catch((err)=> console.log(err))\n});\n\nexport const sendLogoutRequest = createAsyncThunk(\"LOGOUT\", () => {\n  localStorage.removeItem('google')\n  document.cookie = \"token= \"\n  return  axios\n            .post(\"http://localhost:3001/api/user/logout\", \n            { withCredentials: true, credentials: 'include' })\n            .then((r)=> r)\n            .catch((err)=> console.log(err))\n});\n\nexport const setUser = createAsyncThunk(\"SETUSER\", (input) => {\n  if(localStorage.getItem('google') === true) input.google = true\n  return input;\n});\n\nconst userReducer = createReducer({}, {\n  [sendLoginRequest.fulfilled]: (state, action) => action.payload,\n  [sendLogoutRequest.fulfilled]: (state, action) => action.payload,\n  [sendSignUpRequest.fulfilled]: (state, action) => action.payload,\n  [setUser.fulfilled]: (state, action) => action.payload,\n});\n\nexport default userReducer;"],"mappings":"kJAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,OAASC,aAAT,CAAwBC,gBAAxB,KAAgD,kBAAhD,CAGA,MAAO,IAAMC,iBAAgB,CAAGD,gBAAgB,CAAC,OAAD,CAAU,SAACE,KAAD,CAAW,CACnE,MAAQJ,MAAK,CACFK,IADH,CAEI,sCAFJ,CAGID,KAHJ,CAII,CAAEE,eAAe,CAAE,IAAnB,CAAyBC,WAAW,CAAE,SAAtC,CAJJ,EAKGC,IALH,CAKQ,SAACC,CAAD,QAAMA,EAAC,CAACC,IAAR,EALR,EAMGC,KANH,CAMS,SAACC,GAAD,QAAQC,QAAO,CAACC,GAAR,CAAYF,GAAZ,CAAR,EANT,CAAR,CAOD,CAR+C,CAAzC,CAUP,MAAO,IAAMG,kBAAiB,CAAGb,gBAAgB,CAAC,QAAD,CAAW,SAACE,KAAD,CAAW,CACrE,MAAOJ,MAAK,CACCK,IADN,CAEO,yCAFP,CAGOD,KAHP,CAIO,CAAEE,eAAe,CAAE,IAAnB,CAAyBC,WAAW,CAAE,SAAtC,CAJP,EAKMC,IALN,CAKW,SAACC,CAAD,QAAMA,EAAC,CAACC,IAAR,EALX,EAMMC,KANN,CAMY,SAACC,GAAD,QAAQC,QAAO,CAACC,GAAR,CAAYF,GAAZ,CAAR,EANZ,CAAP,CAOD,CARgD,CAA1C,CAUP,MAAO,IAAMI,kBAAiB,CAAGd,gBAAgB,CAAC,QAAD,CAAW,UAAM,CAChEe,YAAY,CAACC,UAAb,CAAwB,QAAxB,EACAC,QAAQ,CAACC,MAAT,CAAkB,SAAlB,CACA,MAAQpB,MAAK,CACFK,IADH,CACQ,uCADR,CAEE,CAAEC,eAAe,CAAE,IAAnB,CAAyBC,WAAW,CAAE,SAAtC,CAFF,EAGGC,IAHH,CAGQ,SAACC,CAAD,QAAMA,EAAN,EAHR,EAIGE,KAJH,CAIS,SAACC,GAAD,QAAQC,QAAO,CAACC,GAAR,CAAYF,GAAZ,CAAR,EAJT,CAAR,CAKD,CARgD,CAA1C,CAUP,MAAO,IAAMS,QAAO,CAAGnB,gBAAgB,CAAC,SAAD,CAAY,SAACE,KAAD,CAAW,CAC5D,GAAGa,YAAY,CAACK,OAAb,CAAqB,QAArB,IAAmC,IAAtC,CAA4ClB,KAAK,CAACmB,MAAN,CAAe,IAAf,CAC5C,MAAOnB,MAAP,CACD,CAHsC,CAAhC,CAKP,GAAMoB,YAAW,CAAGvB,aAAa,CAAC,EAAD,mDAC9BE,gBAAgB,CAACsB,SADa,CACD,SAACC,KAAD,CAAQC,MAAR,QAAmBA,OAAM,CAACC,OAA1B,EADC,iCAE9BZ,iBAAiB,CAACS,SAFY,CAEA,SAACC,KAAD,CAAQC,MAAR,QAAmBA,OAAM,CAACC,OAA1B,EAFA,iCAG9Bb,iBAAiB,CAACU,SAHY,CAGA,SAACC,KAAD,CAAQC,MAAR,QAAmBA,OAAM,CAACC,OAA1B,EAHA,iCAI9BP,OAAO,CAACI,SAJsB,CAIV,SAACC,KAAD,CAAQC,MAAR,QAAmBA,OAAM,CAACC,OAA1B,EAJU,kBAAjC,CAOA,cAAeJ,YAAf"},"metadata":{},"sourceType":"module"}